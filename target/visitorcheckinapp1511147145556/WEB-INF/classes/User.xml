<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="User">

    <insert id="insert" parameterClass="edu.matc.entity.ibatis.UserTable">
        insert into usertable(userName, userPassword, userEmail, userFirstName, userLastName, userDate, genderTable_idGenderTable, userPhoto, userRole)
        values (#userName#, #userPassword#, #userEmail#, #userFirstName#, #userLastName#, #userDate#, #idGender#, #userPhoto#, #userRole#)

        <selectKey resultClass="int" keyProperty="id">
            select last_insert_id() as id
        </selectKey>
    </insert>

    <select id="getAll" resultClass="edu.matc.entity.ibatis.UserTable">
        SELECT * FROM usertable
    </select>

    <select id="getByIdAndPassword" resultClass="edu.matc.entity.ibatis.UserTable">
        SELECT * FROM usertable WHERE userName = #userName# AND userPassword = #userPassword#
    </select>

</sqlMap>